#summary The schedule_viewer application for exploring a feed on a map
#labels Featured

http://googletransitdatafeed.googlecode.com/svn/wiki/images/scheduleviewer.png


= Introduction =

Schedule Viewer is a Python program for viewing the contents of a Google Transit Feed Spec feed on a map.  It's a diagnostic program intended for those creating a feed, and as such doesn't include trip planning or other features that are useful to transit riders.

= Installation =

The Schedule Viewer is part of the Transit Feed Distribution. See the [TransitFeedDistribution page about the transit feed distribution] for instructions on installing either the Windows executable or python source.

To run you need:
  * {{{<google_maps_api_key>}}} a Google Maps API key for the address `http://localhost:8765`, available from the [http://www.google.com/apis/maps/signup.html Google Maps API signup page]
  * {{{<feed_file_or_directory>}}} a transit feed file or a directory containing an expanded feed file. If you don't have a feed download one from the PublicFeeds page or read the [http://code.google.com/transit/spec/transit_feed_specification.htm Google Transit Feed Specification] to create your own.

== Running from source ==
{{{
python schedule_viewer.py --key <google_maps_api_key> --feed_filename <feed_file_or_directory>
}}}

On Windows the python executable is normally installed as `C:\Python25\python`

== Running Windows exe ==

If you installed the Windows exe run the following command
{{{
schedule_viewer.exe --key <google_maps_api_key> --feed_filename <feed_file_or_directory>
}}}
If you run it from Start -> Run include the full path of schedule_viewer.exe and if you are in a command prompt change into the directory containing schedule_viewer.exe.


= Explore your data =

Once schedule_viewer has finished loading the feed file it prints a URL. Ignore that URL because it won't work with your Google Maps API key. Instead go to http://localhost:8765/ in your web browser and a page similar to the screen shot above should load.

== Exploring stops ==

After you drag the map to a new location with your mouse it will display stops in the current area a transparent blue markers. If there are lots of stops in the map area only a sample will be displayed. To see all the stops you need to zoom in. The map zooms in when double clicked. If you click on a marker it opens a window listing the "stop_name (stop_id)" and the next trips to visit the stop after "Time:" (HH:MM at top left of screen). Click on a trip to display it.

The Find Station field (top left, below "Time:") will search for all stops that have a name or stop_id containing the string you enter.

== Exploring routes ==

The left pane lists all the routes in the feed. Click on one of the route names to see the trip patterns (a group of trips that visit the same stops in the same order) for that route. The first trip will automatically be selected, and shown on the map. For each trip pattern the number of stops, number of trips and start times are displayed. For patterns that have many trips only a few start times are displayed. To see the start times of more trips edit "Time:" (HH:MM at top left of screen) and click on the route name again.

== Viewing a trip ==

After you click on a trip in a stop marker's window or on a start time in the route list it is displayed in the map. Every stop of the trip is shown as a yellow marker. Timepoints have the time displayed on the map. Some of the source data for that trip and route will be displayed at the bottom of the window. Below the source data is a graph that lists every trip of the selected pattern. A steeper line represents faster travel. These lines shouldn't cross unless two buses on the same pattern pass.


= Inspecting for problems =

Zoom in on a few stops, open the window and make sure the marker is in the correct location.

Look at one trip of each pattern. Check that the time points are reasonable. If the polyline has any jumps there may be a stop with the incorrect geo location or an incorrect stop_times row.

= Bugs and feature requests =

[http://code.google.com/p/googletransitdatafeed/issues/list?q=label:App-ScheduleViewer Vote for known ScheduleViewer issues] so the developers know what is important.

If you find an unreported bug or have a feature request please file a new issue and add the label `App-ScheduleViewer`.